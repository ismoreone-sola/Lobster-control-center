<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sola Voice Message Reader</title>
    <style>
        body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif; background-color: #f4f7f6; margin: 0; padding: 0; color: #333; }
        .container { max-width: 800px; margin: 20px auto; background: #fff; border-radius: 16px; box-shadow: 0 8px 30px rgba(0,0,0,0.08); padding: 25px; }
        header { text-align: center; border-bottom: 2px solid #f0f0f0; margin-bottom: 25px; padding-bottom: 15px; }
        .logo { font-size: 1.8em; font-weight: 800; color: #007bff; letter-spacing: -1px; }
        
        .voice-section { background: #fdfdfd; border: 2px solid #eef2f3; border-radius: 20px; padding: 30px 20px; text-align: center; margin-bottom: 30px; }
        #recordButton { background: #28a745; color: white; border: none; padding: 18px 35px; border-radius: 50px; font-size: 1.2em; font-weight: bold; cursor: pointer; transition: all 0.3s ease; box-shadow: 0 4px 15px rgba(40,167,69,0.3); }
        #recordButton:active { transform: scale(0.95); }
        #recordButton.recording { background: #dc3545; animation: pulse 1.5s infinite; }
        @keyframes pulse { 0% { box-shadow: 0 0 0 0 rgba(220,53,69,0.7); } 70% { box-shadow: 0 0 0 15px rgba(220,53,69,0); } 100% { box-shadow: 0 0 0 0 rgba(220,53,69,0); } }
        
        #timerDisplay { margin-top: 15px; font-family: monospace; font-size: 1.4em; color: #555; }
        
        .log-container { text-align: left; }
        .log-header { font-size: 1.1em; font-weight: 700; margin-bottom: 10px; color: #444; display: flex; justify-content: space-between; }
        #transcriptionLog { padding: 15px; background: #f8f9fa; border-radius: 12px; min-height: 100px; border: 1px solid #eee; }
        .log-entry { padding: 12px; border-bottom: 1px solid #e1e4e8; animation: fadeIn 0.5s ease; }
        .log-entry:last-child { border-bottom: none; }
        .log-time { color: #007bff; font-weight: bold; font-size: 0.85em; margin-right: 10px; }
        
        @keyframes fadeIn { from { opacity: 0; transform: translateY(5px); } to { opacity: 1; transform: translateY(0); } }
        
        /* Mobile Optimization */
        @media (max-width: 600px) {
            .container { margin: 10px; padding: 15px; }
            #recordButton { width: 100%; padding: 20px; }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="logo">SOLA VOICE RECORDER</div>
        </header>

        <div class="voice-section">
            <button id="recordButton">ğŸ¤ é–‹å§‹éŒ„éŸ³ (10ç§’)</button>
            <div id="timerDisplay">å€’æ•¸: 10.0s</div>
        </div>

        <div class="log-container">
            <div class="log-header">
                <span>ç•™è¨€è½‰æ›è¨˜éŒ„</span>
                <small id="statusText" style="color:#28a745;">ç³»çµ±å°±ç·’</small>
            </div>
            <div id="transcriptionLog">
                <div style="color:#999; text-align:center; padding-top:20px;">å°šç„¡è¨˜éŒ„ï¼Œé»æ“Šä¸Šæ–¹æŒ‰éˆ•é–‹å§‹ã€‚</div>
            </div>
        </div>

        <footer style="margin-top:40px; text-align:center; color:#ccc; font-size:0.8em;">
            &copy; 2026 Sola Assistant Â· Powered by OpenClaw
        </footer>
    </div>

    <script>
        const btn = document.getElementById('recordButton');
        const timer = document.getElementById('timerDisplay');
        const log = document.getElementById('transcriptionLog');
        const status = document.getElementById('statusText');
        
        let isRecording = false;
        let countdown = 10;
        let interval;

        function addEntry(text) {
            if (log.innerHTML.includes('å°šç„¡è¨˜éŒ„')) log.innerHTML = '';
            const now = new Date();
            const timeStr = now.toLocaleTimeString();
            const html = `<div class="log-entry"><span class="log-time">[${timeStr}]</span> ${text}</div>`;
            log.insertAdjacentHTML('afterbegin', html);
        }

        btn.onclick = () => {
            if (isRecording) return;
            
            isRecording = true;
            btn.classList.add('recording');
            btn.innerText = 'ğŸ›‘ æ­£åœ¨è½å–ä¸­...';
            status.innerText = 'éŒ„éŸ³ä¸­';
            status.style.color = '#dc3545';
            
            countdown = 10;
            timer.innerText = `å€’æ•¸: ${countdown.toFixed(1)}s`;
            
            interval = setInterval(() => {
                countdown -= 0.1;
                timer.innerText = `å€’æ•¸: ${Math.max(0, countdown).toFixed(1)}s`;
                
                if (countdown <= 0) {
                    clearInterval(interval);
                    stopRecording();
                }
            }, 100);
        };

        function stopRecording() {
            isRecording = false;
            btn.classList.remove('recording');
            btn.innerText = 'ğŸ¤ é–‹å§‹éŒ„éŸ³ (10ç§’)';
            status.innerText = 'æ­£åœ¨è½‰å¯«...';
            status.style.color = '#007bff';
            timer.innerText = 'å€’æ•¸: 10.0s';
            
            // æ¨¡æ“¬èªéŸ³è½‰æ–‡å­—è™•ç†
            setTimeout(() => {
                const results = [
                    "è€é—†æ‚¨å¥½ï¼Œé€™æ˜¯ä¸€æ¢æ¸¬è©¦ç•™è¨€ï¼Œç³»çµ±é‹è¡Œæ­£å¸¸ã€‚",
                    "éŒ„éŸ³å·²å®Œæˆï¼Œå…§å®¹å·²æˆåŠŸåŒæ­¥åˆ°ç¶²é ä¸‹æ–¹ã€‚",
                    "ä»Šå¤©çš„æœƒè­°é †åˆ©çµæŸï¼Œè¨˜å¾—æŸ¥çœ‹å ±å‘Šã€‚"
                ];
                const mockText = results[Math.floor(Math.random() * results.length)];
                addEntry(mockText);
                status.innerText = 'ç³»çµ±å°±ç·’';
                status.style.color = '#28a745';
            }, 800);
        }
    </script>
</body>
</html>